Surae: This final speaker is one of the more special speakers that we have because he flew such a far way to come speak to you about a novel protocol, and this is a this is a great thing. It's a trustless protocol, everybody, please give a hand for Aram Jivanyan. Okay And he's here to speak to us about Lelantus enabling full transaction privacy with one out of n proofs.

Aram Jivanyan:  Hello everybody! So, my name is Aram Jivanyan. I'm a cryptographer at zcoin which is a privacy cryptocurrency, and happy to be here today talking to you about Lelantus , our new privacy protocol for anonymous and confidential transactions. But before continuing my talk, I would like to thank you Brandon and Sarang for inviting me, and especially Sarang for the great job He did in making pierce implementation of Lelantus and its analysis and also the great feedback he provided me continuously during the last few few months. \

	Thanks, so the brief outline of my talk, let me start by this describing zero coin the protocol which is currently empowering the zcoin network which discusses Limitations sure why we want to move on beyond it next I will provide high-level characteristics of Lelantus and then we go deeper into its cryptographic details and then briefly compare with existing privacy techniques and I will finish my presentation by identifying few open problems and also promising research directions, which could help to improve Lelantus farther. 

	Okay, so zerocoin is one of the first technologies which enabled the highest anonymity of transactions it enables the user to burn coins and then spend them to bring new coins and to spend the zero knowledge proof us provided that the spent coins was one of the previously minted coins without revealing its origin and although it provides high level of anonymity it absolutely lacks confidentiality moreover, zerocoin can work only with fixed denominated coins which results to a pure user experience and the proof size is a zerocoin we're huge, about 25 kilobyte and the verification time is also quite high, about 300 milliseconds. 

	Zero coin is using RSA accumulators, which means that it also requires some type of trusted setup to generate these accumulator parameters although zcoin be avoided of this trusted setup, by using RSA challenge parameters generated in 1992, and last but not least now this protocol is absolutely broken. It's not secure at all, so we created lelantus to address this functional and the performance limitations of zerocoin.

	 It's a new brand-new design inspired by zero coin and confidential transaction concepts which leverage one out of many proof constructions and bullet proofs and it doesn't require trusted setup. proof sizes are relatively small They’re are about 1.5 kilobyte per input spent it enables efficient verification of transaction in pages by supporting large anonymity sets of up to 50 65 thousands or even 1100k they learned to see neighbors to works with coins of arbitrary amounts or you can also enables direct anonymous payments in some extent.

	 So, let's see how it works it provides two basic types of transaction, first one: mint transaction enables the users to mint is based going into cheated coins of arbitrary values, and provides a balance proof that the output coin values sum up with the base coin minted based on amount. And it allows to do joint split transaction which mean you can merge split and redeem coins without revealing the input coin origins and also preserving the confidentiality of both input and output coin amounts.

	 It uses new cryptography constructions called one out of n proofs to hide the origin of inputs, but also to Generate a balance proof. Let's see how it works. So one out of n profs is a sigma protocol for knowledge of one out of n commitments C 0 C 1 C n minus 1 Being a commitment to 0 to be clear. We are working with Peterson commitments.

So the idea behind this protocol is saying that one out of n commitments contains 0 is equivalent saying that there exists an index L So that the product of CI to the Delta il will be a commitment to 0. That tile here is the Kronecker Delta it equals to 1 only when the index is I is equal to L and 0 otherwise and assuming that the number N is a power of 2, we can write these indexes. I and L in binary and We can reformulate what we want to prove as the product of CI To the product of Delta IG LG being a commitment to 0. 

	Does this make sense? Ok. so The prover starts by making commitment to his index L so making commitment CL 1 CL 2 CL n 2 the bit values and next it engaged in two n parallel Sigma protocols to demonstrate the knowledge of opening of these commitments to be bit binary values 2 LJ equal to either 0 or 1 and during these proofs and Elements are revealed of the following form F 1 F 2 F M where H FJ is equal to L J times X plus A J so, let's make the following key notions, let's say denote FJ 1 to be equal as FJ and we can see that it's equivalent to B it's equal to Delta 1 LJ x 6 + AJ because it's simple if the bit LJ is 1 Then Delta 1 LJ is also 1 and 0 otherwise,

	 The same way let's denote FJ 0 as X minus FJ which will be equal to Delta 0 LJ X minus FJ and for each index I we can construct polynomials PA X as a product of these values F J I J. You see it will and easy to see that the polynomial PLX will be the only one polynomial of degree n amongst all this p0 p1 PN minus 1 because only the I L theta L L will be equal to 1 and it will be 0 otherwise for all other indexes. 

	So the prover can compute the product of CI to the product of these polynomials and in its initial message, the prover can also construct special ciphertext which will be able to cancel out this low order polynomials in this equation. Because the generation of these coefficients doesn't require the advanced knowledge of the value X so it can be constructed by prover at the proof generation time. So we will end up by proving that the product of commitments CI ^ product FJ IJ multiplied with the product of these magic commitments will be commitment to 0, hope this give just some high-level insight about how one out of n proof works. 

	We cannot go deep into the rabbit hole here, but this is the whole protocol. This is the initial construction of yen Scroll and Mark always you see it's relatively simple the proof and verification just fit in one page That's it. And the one important thing to observe here is this proof transcript contains also proof transit contains also this value. Which is the encoding of the commitment randomness R. This is important because this will be used for generating the balance proof. 

	Let's let's see how straightforward is to build a zero coin like scheme having this 1 out of n construction. A Scheme, which enables the user to mint coin of some fixed value and then spend it anonymously without revealing its origin so for minting a coin the user just generates a random coin serial number S and then commits to the serial number by using some randomness R. This will be the user coin which will be published the blockchain and then when the user wants to spend it he just reveals the coin serial number S and revealing serial number is important also for preventing double spending attacks. And when the serial number is revealed, both prover and verifiers can homomorphicaly subtract the serial number from all commitments. Like if we have the previously minted commitments or previously minted coins, You can subtract this coin specific serial number from all commitments and result to a new set, new set of commitments where one of them will already be commitment to zero.
 	And you just prove that you know, which one is the commitment to zero. Lelantus is following two the same approach for ensuring anonymous spends of input coins. But as we want to support the coins of arbitrary amounts here, let's encode also the coin value into the commitment.

	 So in Lelantus construction coins are commitment to coin serial number by using a random value R and also the coin values, so we are using three independent generators and we'll have to refer to this construction as double blinded commitment and it's worth noting that the serial number Is not generated randomly, but it's generated by hashing of some public key which corresponding witness Referred us as spending key will be used to send a transaction When this coin is spent.

	 So this diagram shows the One out of n construction scheme used in Lelantus. It's a modified version of more optimized protocol not on the original cross protocol, but an optimized version of it and also contains some more own modifications which are done to support double blinded commitments and also the balance per generation process, now important thing to observe here is that this proof transcripts contains Publishes these two values Z V and Z R which are the encodings of the coin correspondingly of the coin value V and coin randomness R.


	So assuming that the joins with transaction outputs n new coins and it consumes n old coins
the transaction transcript will contain this output coins and also n old one out of many profs for each spend input and all verifiers can independently do the following computations. 

	They cancompute the value A which is a product of output coins to the power XM Which based on the homomorphic properties of the an online commitment scheme will be commitment to the sum of all output coins Yeah and verifies can also compute a value B as a commitment of the sum of this value set V and the sum of the values that are multiplied with the product of some auxiliary data which was also contained in the proof transcript and the result will be a commitment to the sum of all input coins.

	 So without revealing these input values or without even revealing which coins have been spent we will end up having commitment to the sum of all input coins and if the transaction balance is preserved is already simple the prover it's enough for the prover to provide a proof of representation of the value A over B with respect to the generators G and H2.  

	Okay This is about how we make anonymous pens and how we provide balance proof. So now let's see how enable page verification of this proofs, A verification of one out n proofs is linear from the number of n and it boils down to this big multi exponentiation yeah, this here the generators are all transaction specific, because as you remember me from this as we described in the zero coin scheme this generators are computed by taking this commitment CI and dividing to G to the power ST where ST is the coin serial number spent doing the transaction.

The good thing in our setup is that during the spend these serial numbers are explicitly revealed so we can leverage that fact that the serial numbers ST are published on the blockchain and incorporate that into the verification operation and reformulate the verification operation will tell alternative equation where the generators will be transaction agnostic because the C and the  ST are already on this right side of the equation. This enables to perform verification of many proofs in batches and helps to save n exponentiation per each extra proof when we work within the same anonymity sets.

	This results to huge savings as you can see from this table the average cost of one proof verification between the anonymity set of size 16,000 can be as low as 30 milliseconds, and within the anonymity set of size 65,000 it can be as low as 35 milliseconds.

	Last let's discuss how we enable direct anonymous payments when the outputted coins can be spent only by dedicated recipients. For in our structure in order to spend this coin, which has the following structure, it's a commitment to the coin serial number S, the user should possess all the secret values the coin serial number or randomness and also the witness or spending key which was used to generate the decision number, and we can use some Diffy-Heilman like exchange process to make this witness accessible only to the recipient like in very simple setup, the receiver can generate new public address and the sender can generate the random Y and create a public key which witness is accessible only to the receiver, of course, This can work also with two alt key based stealth addresses protocol.

	 Okay, I'm sorry if you will find some inaccuracies in this number, but just to highlight that just to briefly compare the Lelantus with other privacy techniques, we see that the proof sizes and verification times are quite comparable with existing Monero’s performance while ensuring larger anonymity sets we should make this construction more immune against different types of attacks including flooding attacks or transaction graph analysis attacks.

	 Of course, it's hard to beat Zero cash performance but unlike zero cash we don't require trusted setup we rely only on standard cryptography asumptions and which is more important in my opinion we don't use complex arithmetic circuits. So it uses a simple cryptography construction which is easy to implement easy to test easy to crypto analyze easy to implement on any platform. 

	So Just the conclusion This is a new protocol and there is a lot that can be done to improve it further. Of course. We would love to see an alternative approach for direct anonymous payments which results to untraceable coins, but the research problem which takes me busy this moment full-time is how to scale one out of n proofs. I Believe it's possible. So and now we have some progress on building two layers one out of n proofs which promised to significantly reduce the proof time, and also, I think it's possible to design more efficient M out of N schemes If you can design efficient amount M out of N schemes , this will optimize transaction size with with multiple inputs and also, it will be interesting to see how we can support multi asset transfer or also enable auditability of transactions for enterprise use cases.

 Thank you, happy to answer questions.


Sarang: Thank you for your talk, I think Lelantus is very very cool my question is so you're working with Z coin and you know moving away from the zero coin protocol there is an intermediate protocol you guys are working on, is there is there kind of a timeline for when and if Z coin intends to deploy Lelantus? Would it be in its current form or is the intent to wait until you you get some of these kind of efficiency issues taken care of like you were talking about?

Aram Jivanyan: Yeah, sure so that our current delays which we call Sigma which is basically zero coin construction pasted on one out of n schemes, which I've discovered is already on our test net and it will be it will go to main net very soon and we plan to have Lelantus  do some tests in early 2020 next year.


Sarang: Thank you.

Justin Ehrenhofer: Yeah, thank you so much for your talk, can you describe some of the privacy concerns in regards to a recipient of funds maybe needing to churn their funds before in order to help protect their privacy with Lelantus?

Aram Jivanyan: If I answer the question, right when the sender sent a coin to recipient, it generates a serial number and in order to spend the coin the serial number should be published on the blockchain. Which means that the sender can track this and can identify the serial number and you see can identify the spend of this coin. This is why it's advised for the recipient to self spend the coin immediately after receiving it.

Surae: Ending this conference on a positive note with sublinear ring signatures is pretty cool. Anyway, thank you all for coming and being a part of the first annual Monero konferenco. This has been an honor Thank you very much. Once again, I want to thank our sponsors My Monero, Cypher Market, I'm gonna forget somebody I'm not gonna try… Oh the back of the badge! I would like to thank Cake Wallet Cypher Market The entire Monero community, Globee, Insight my nonprofit Magic the Monero outreach team who made all the badges and the t-shirts and did all of the graphics for the video and everything, xmrhaelen and thunderosa basically just nailed it. We have the Monero talk team, our media partners. We have Morph Token and fire life or File Life Yeah. Yeah thumbs up. Yeah, cool My Monero symas corporation for flying out Howard, Tari for flying out Rick, Globee, this has been an honor and I want to express again This conference belongs to the community and I cannot be more proud of the community I belong to.
